<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roleta de Desconto</title>
    <style>
        #container {
            background-image: url('img/borda.png');
            position: relative;
            width: 530px;
            height: 530px;
        }

        #borda{
            position: absolute;
            z-index: 2;
        }

        #wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-image: url('img/roleta.png'); /* Substitua pelo caminho da sua imagem */
            transition: transform 4s ease-out;
        }

    </style>
</head>
<body>
    <div id="container">
        <img src="img/borda.png" id="borda" alt="">
        <div id="wheel"></div>
    </div>
    <button id="spin">Girar</button>
    <p id="result"></p>

    <script>
        document.getElementById('spin').addEventListener('click', function() {
            const wheel = document.getElementById('wheel');
            const result = document.getElementById('result');

            // Gera um número aleatório entre 0 e 1
            const random = Math.random();
            let section;
            let angle;

            // Define a seção e o ângulo final baseado nas probabilidades
            if (random < 0.05) {
                section = "Seção 1";
                angle = Math.floor(Math.random() * 90); // Ângulo entre 0 e 89
            } else if (random < 0.17) {
                section = "Seção 2";
                angle = 90 + Math.floor(Math.random() * 90); // Ângulo entre 90 e 179
            } else if (random < 0.97) {
                section = "Seção 3";
                angle = 180 + Math.floor(Math.random() * 90); // Ângulo entre 180 e 269
            } else {
                section = "Seção 4";
                angle = 270 + Math.floor(Math.random() * 90); // Ângulo entre 270 e 359
            }

            // Número aleatório de rotações (mínimo 4 voltas)
            const rotations = Math.floor(Math.random() * 7) + 4; // Gira de 4 a 10 vezes

            // Ângulo total de rotação no sentido anti-horário
            const totalAngle = -(rotations * 360 + angle);

            // Aplica a rotação
            wheel.style.transform = `rotate(${totalAngle}deg)`;

            // Mostra o resultado
            setTimeout(() => {
                const finalAngle = totalAngle % 360;
                let finalSection;
                if (finalAngle >= 0 && finalAngle < -90) {
                    finalSection = "Seção 1";
                } else if (finalAngle >= -90 && finalAngle < -180) {
                    finalSection = "Seção 2";
                } else if (finalAngle >= -180 && finalAngle < -270) {
                    finalSection = "Seção 3";
                } else {
                    finalSection = "Seção 4";
                }
                result.textContent = `A roleta parou na ${finalSection}`;
            }, 4000); // 4 segundos para corresponder ao tempo de transição
        });
    </script>
</body>
</html>